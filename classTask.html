<!DOCTYPE html>
<html>
    <!--<head>
        <script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
    </head>-->
<body>
<h1>Salary Calculator </h1>

<table border=1>
<tr>
    <td>
        <label>Your Gross Salary</label>
        
    </td>
    <td>
        <input type="text" id="t1">
    </td>
    
</tr>    
<tr>
    <td>
        <label>Personal Allowance</label>
        
    </td>
    <td>
        <input type="text" id="t2">
    </td>
    
</tr>    
<tr>
    <td>
        <label>Your Tax Bracket</label>
        
    </td>
    <td>
        <input type="text" id="t3">
    </td>
    
</tr>    
<tr>
    <td>
        <label>Total Tax Paid</label>
        
    </td>
    <td>
        <input type="text" id="t4">
    </td>
    
</tr>
<tr>
    <td>
        <label>Your Net Salary</label>
        
    </td>
    <td>
        <input type="text" id="t5">
    </td>
    
</tr>

</table>
    
<h2>Input an annual salary to calculate the tax:</h2>
    
<input type="text" id="salary"><br><br>
    
<button name="Calculate" onclick="calculateNetSalary()">Calculate</button>
    
<div id="salaryChart" style="height: 300px; width: 500px;"></div>

<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script type="text/javascript">
    var pa = 11500;
    //var gs = parseInt(document.getElementById("salary").value);
    var txt1 = document.getElementById("t1");
    var txt2 = document.getElementById("t2");
    var txt3 = document.getElementById("t3");
    var txt4 = document.getElementById("t4");
    var txt5 = document.getElementById("t5");
    
    
    function calculateNetSalary(){
        
        var gs = parseInt(document.getElementById("salary").value);
        
        if(gs < pa)
        {
            var taxtBracket = 0;
            var taxPaid = ((gs - pa)*taxtBracket)/100;
            txt1.value = gs;
            txt2.value = pa;
            txt3.value = taxtBracket + "%";
            txt4.value = taxPaid;
            txt5.value = (gs-taxPaid);
        }
        
        else if(gs > pa && gs <= 45000)
        {
            var taxtBracket = 20;
            var taxPaid = ((gs - pa)*taxtBracket)/100;
            txt1.value = gs;
            txt2.value = pa;
            txt3.value = taxtBracket + "%";
            txt4.value = taxPaid;
            txt5.value = (gs-taxPaid);
        }
        
        else if(gs > 45000 && gs <= 150000)
        {
            var taxtBracket = 40;
            var taxPaid = ((gs - pa)*taxtBracket)/100;
            txt1.value = gs;
            txt2.value = pa;
            txt3.value = taxtBracket + "%";
            txt4.value = taxPaid;
            txt5.value = (gs-taxPaid);
        }
        
        else if(gs > 150000)
        {
            var taxtBracket = 45;
            var taxPaid = ((gs - pa)*taxtBracket)/100;
            txt1.value = gs;
            txt2.value = pa;
            txt3.value = taxtBracket + "%";
            txt4.value = taxPaid;
            txt5.value = (gs-taxPaid);
        }
        
        var netS = gs - taxPaid;
        var tax = taxPaid;
        
        //console.log(netS);
        //console.log(tax);
        
	    var chart = new CanvasJS.Chart("salaryChart", {
		theme: "theme4",//theme1
		title:{
			text: "Table Values in Canvas Chart"              
		},
		animationEnabled: false,   // change to true
		data: [              
            {
                // Change type to "bar", "area", "spline", "pie",etc.
                type: "pie",
                dataPoints: [
                    {label: "Net Salary",  y:netS },
                    {label: "Tax Paid", y: tax }
                ]
            }
        ]
        });
        chart.render();      
    
    }
    
    
</script>
    

</body>
</html>
